<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crop Recommendation System</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Animate.css -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="container mt-5">
        <!-- Header -->
        <div class="text-center mb-4 animate__animated animate__fadeInDown">
            <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo" width="280" class="mb-3">
            <h1 style="color: #008037;">Chitti - The AI</h1>
            <p class="lead text-muted">Find the best crop for your soil and climate conditions effortlessly.</p>
            <h3 style="color: #008037;">FarmEz Crop Recommendation</h3>
        </div>

        <!-- Description Section -->
        <div class="row justify-content-center mb-5">
            <div class="col-lg-8 col-md-10 text-center">
                <p class="text-muted">
                    Our system analyzes your soil type, temperature, humidity, pH, and rainfall to recommend the most suitable crop for your farm. 
                    Whether you're growing rice, wheat, or maize, we’ve got you covered!
                </p>
            </div>
        </div>

        <!-- Form Card -->
        <div class="row justify-content-center">
            <div class="col-lg-6 col-md-8 col-sm-10">
                <div class="card p-4 shadow animate__animated animate__zoomIn" style="background: linear-gradient(135deg, #ffffff, #e8f8f5);">
                    <form method="POST" id="cropForm">
                        <!-- Soil Type -->
                        <div class="mb-3 d-flex align-items-center">
                            <i class="fas fa-seedling me-3" style="color: #008037;"></i>
                            <select name="soil_type" id="soil_type" class="form-select flex-grow-1" required>
                                {% for soil in soil_types %}
                                    <option value="{{ soil }}">{{ soil }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <!-- Temperature -->
                        <div class="mb-3 d-flex align-items-center">
                            <i class="fas fa-thermometer-half me-3" style="color: #008037;"></i>
                            <input type="number" step="any" name="temperature" id="temperature" class="form-control flex-grow-1" placeholder="Enter Temperature (°C)" required>
                        </div>

                        <!-- Humidity -->
                        <div class="mb-3 d-flex align-items-center">
                            <i class="fas fa-tint me-3" style="color: #008037;"></i>
                            <input type="number" step="any" name="humidity" id="humidity" class="form-control flex-grow-1" placeholder="Enter Humidity (%)" required>
                        </div>

                        <!-- pH -->
                        <div class="mb-3 d-flex align-items-center">
                            <i class="fas fa-flask me-3" style="color: #008037;"></i>
                            <input type="number" step="any" name="ph" id="ph" class="form-control flex-grow-1" placeholder="Enter pH Value" required>
                        </div>

                        <!-- Rainfall -->
                        <div class="mb-3 d-flex align-items-center">
                            <i class="fas fa-cloud-rain me-3" style="color: #008037;"></i>
                            <input type="number" step="any" name="rainfall" id="rainfall" class="form-control flex-grow-1" placeholder="Enter Rainfall (mm)" required>
                        </div>

                        <!-- Submit Button -->
                        <button type="submit" class="btn btn-primary w-100" style="background-color: #008037; border: none;">
                            Predict Crop
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript for Animation -->
    <script>
        // Add a loading spinner and fade-out animation on form submission
        document.getElementById('cropForm').addEventListener('submit', function () {
            const button = document.querySelector('button[type="submit"]');
            button.innerHTML = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Predicting...';
            button.disabled = true;
            setTimeout(() => {
                window.location.href = '/result'; // Simulate navigation to the result page
            }, 1000); // Simulate a delay for prediction
        });
    </script>
</body>
</html>